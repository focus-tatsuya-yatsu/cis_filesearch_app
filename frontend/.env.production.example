# ========================================
# セキュリティ設定（必須）
# ========================================

# JWT Secret（256ビット以上の安全なランダム文字列）
# 生成方法: openssl rand -base64 32
JWT_SECRET=your-256-bit-secret-key-here-please-change-this-in-production

# 許可されるオリジン（カンマ区切り）
ALLOWED_ORIGINS=https://cis-filesearch.example.com,https://app.cis-filesearch.example.com

# ========================================
# OpenSearch Configuration
# ========================================

# OpenSearch Endpoint - AWS OpenSearch Service URL
OPENSEARCH_ENDPOINT=https://vpc-cis-filesearch-xxxxx.ap-northeast-1.es.amazonaws.com
OPENSEARCH_INDEX=file-index

# OpenSearch接続設定
OPENSEARCH_REQUEST_TIMEOUT=30000
OPENSEARCH_MAX_RETRIES=3
OPENSEARCH_BATCH_SIZE=100

# ========================================
# AWS Configuration
# ========================================

AWS_REGION=ap-northeast-1

# AWS Credentials
# 本番環境: IAMロールを使用するため不要
# 開発環境: アクセスキーを設定
# AWS_ACCESS_KEY_ID=your-access-key-id
# AWS_SECRET_ACCESS_KEY=your-secret-access-key

# AWS Bedrock設定
BEDROCK_REGION=us-east-1
BEDROCK_MODEL_ID=amazon.titan-embed-image-v1

# Bedrockアクセス用のAssumeRole ARN（オプション）
# BEDROCK_ASSUME_ROLE_ARN=arn:aws:iam::123456789012:role/CISBedrockAccessRole

# モックモード（開発環境のみ）
USE_MOCK_EMBEDDING=false

# ========================================
# S3 Configuration
# ========================================

S3_BUCKET=cis-filesearch-storage
S3_PROCESSED_PREFIX=processed/
S3_THUMBNAIL_PREFIX=thumbnails/

# ========================================
# API Gateway Configuration
# ========================================

# API Gateway URL（Lambda検索API）
NEXT_PUBLIC_API_GATEWAY_URL=https://xxxxxxxxxx.execute-api.ap-northeast-1.amazonaws.com/prod/search

# ========================================
# Application Configuration
# ========================================

NODE_ENV=production
NEXT_PUBLIC_APP_NAME=CIS File Search Application

# ========================================
# Logging Configuration
# ========================================

# ログレベル（debug, info, warn, error）
LOG_LEVEL=info

# 監査ログのCloudWatch Log Group
AUDIT_LOG_GROUP=/aws/lambda/cis-search-api-audit

# ========================================
# Rate Limiting Configuration（オプション）
# ========================================

# IP制限（リクエスト数/分）
RATE_LIMIT_IP=10

# ユーザー制限（リクエスト数/分）
RATE_LIMIT_USER=50

# グローバル制限（リクエスト数/分）
RATE_LIMIT_GLOBAL=100

# 画像アップロード制限（リクエスト数/分）
RATE_LIMIT_IMAGE_UPLOAD=5

# ========================================
# バッチ処理設定（オプション）
# ========================================

BATCH_MAX_FILES=1000
BATCH_SIZE=10
BATCH_S3_PREFIX=thumbnails/

# ========================================
# フロントエンドドメイン（CORS検証用）
# ========================================

FRONTEND_DOMAIN=cis-filesearch.example.com

# ========================================
# セキュリティ強化設定（オプション）
# ========================================

# OpenSearchカスタムCA証明書パス（オプション）
# OPENSEARCH_CA_CERT_PATH=/path/to/ca-cert.pem

# セッションタイムアウト（分）
SESSION_TIMEOUT=60

# パスワードポリシー
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# ========================================
# 開発環境専用設定
# ========================================

# Webpack Bundle Analyzer（ANALYZE=trueで有効化）
# ANALYZE=false
