# Phase 1: 基本機能実装 タスクリスト

**期間**: 2025年2月 - 2025年4月（3ヶ月）
**目標**: 基本的な検索機能とユーザー認証の実装
**進捗**: 10% (3/30 タスク完了)

---

## Month 1: インフラ構築（Week 1-4）

### Week 1: プロジェクト初期化

#### T1.1.1: 開発環境セットアップ
- [x] 🔴 **プロジェクトディレクトリ作成** `担当: ALL` `期限: 2025-01-15`
  - リポジトリ作成
  - ブランチ戦略決定（main/develop/feature）
  - README.md 作成

- [x] 🔴 **ドキュメント作成** `担当: PM` `期限: 2025-01-15`
  - 要件定義書
  - アーキテクチャ設計書
  - API仕様書
  - データベース設計書
  - 開発環境セットアップガイド
  - コーディング規約
  - テスト戦略書
  - デプロイメントガイド
  - プロジェクトロードマップ

- [x] 🔴 **タスク管理システム構築** `担当: PM` `期限: 2025-01-15`
  - タスクリスト作成
  - 進捗ダッシュボード作成

- [ ] 🔴 **Next.js プロジェクト初期化** `担当: FE1` `期限: 2025-01-20`
  - `npx create-next-app@latest` 実行
  - TypeScript設定
  - src/ ディレクトリ構造作成
  - ESLint/Prettier設定
  - Tailwind CSS設定
  ```bash
  npx create-next-app@latest cis-filesearch-app --typescript --tailwind --app --src-dir
  ```

- [ ] 🔴 **開発ツール設定** `担当: FE1, FE2` `期限: 2025-01-22`
  - VS Code設定 (.vscode/)
  - Git hooks (Husky + lint-staged)
  - コミットメッセージ規約 (commitlint)
  - package.json スクリプト整備

### Week 2: AWS基盤構築

#### T1.2.1: AWS環境セットアップ
- [ ] 🔴 **AWSアカウント設定** `担当: DevOps` `期限: 2025-01-25`
  - IAMユーザー作成
  - アクセスキー発行
  - MFA設定
  - AWS CLI設定

- [ ] 🔴 **Terraform環境構築** `担当: DevOps` `期限: 2025-01-26`
  - Terraform インストール
  - S3バケット作成（tfstate保存用）
  - DynamoDB テーブル作成（ロック用）
  - terraform/ ディレクトリ構造作成

- [ ] 🔴 **VPC・ネットワーク構築** `担当: DevOps` `期限: 2025-01-28`
  - VPC作成 (10.0.0.0/16)
  - サブネット作成（Public×2, Private×2）
  - Internet Gateway
  - NAT Gateway
  - Route Table設定
  - Security Group設定

#### T1.2.2: データベース構築
- [ ] 🔴 **RDS PostgreSQL構築** `担当: BE1` `期限: 2025-02-02`
  - RDS インスタンス作成 (db.t3.medium)
  - パラメータグループ設定
  - サブネットグループ設定
  - セキュリティグループ設定
  - 接続テスト

- [ ] 🟡 **RDS Proxy設定** `担当: BE1` `期限: 2025-02-05`
  - RDS Proxy作成
  - Secrets Manager設定
  - 接続プーリング設定

- [ ] 🔴 **OpenSearch構築** `担当: BE2` `期限: 2025-02-02`
  - OpenSearch ドメイン作成
  - ノード設定（3ノード）
  - VPC内配置
  - アクセスポリシー設定
  - Kibana有効化

### Week 3: バックエンド基盤

#### T1.3.1: バックエンドプロジェクト初期化
- [ ] 🔴 **Express プロジェクト作成** `担当: BE1` `期限: 2025-02-08`
  - Express セットアップ
  - TypeScript設定
  - ディレクトリ構造作成
  - ミドルウェア設定

- [ ] 🔴 **Prisma セットアップ** `担当: BE1` `期限: 2025-02-09`
  - Prisma インストール
  - schema.prisma 作成
  - 初期マイグレーション作成
  - Prisma Client生成

- [ ] 🟡 **データベーススキーマ作成** `担当: BE1` `期限: 2025-02-10`
  - users テーブル
  - departments テーブル
  - roles テーブル
  - permissions テーブル
  - マイグレーション実行

- [ ] 🟡 **OpenSearch初期設定** `担当: BE2` `期限: 2025-02-10`
  - インデックステンプレート作成
  - 日本語アナライザー設定
  - マッピング定義

### Week 4: CI/CD構築

#### T1.4.1: CI/CDパイプライン
- [ ] 🔴 **GitHub Actions設定** `担当: DevOps` `期限: 2025-02-15`
  - テストワークフロー (.github/workflows/test.yml)
  - Lintワークフロー (.github/workflows/lint.yml)
  - ブランチ保護ルール設定

- [ ] 🟡 **ECRリポジトリ作成** `担当: DevOps` `期限: 2025-02-16`
  - フロントエンド用リポジトリ
  - バックエンド用リポジトリ
  - ライフサイクルポリシー設定

- [ ] 🟡 **Docker環境構築** `担当: DevOps` `期限: 2025-02-17`
  - Dockerfile作成（フロントエンド）
  - Dockerfile作成（バックエンド）
  - docker-compose.yml作成
  - ローカルビルド確認

---

## Month 2: 認証とコア機能（Week 5-8）

### Week 5: 認証システム実装

#### T1.5.1: AWS Cognito設定
- [ ] 🔴 **Cognitoユーザープール作成** `担当: BE1` `期限: 2025-02-22`
  - ユーザープール作成
  - アプリクライアント設定
  - パスワードポリシー設定
  - MFA設定（オプション）

- [ ] 🔴 **JWT認証実装** `担当: BE1` `期限: 2025-02-24`
  - JWT検証ミドルウェア
  - トークンリフレッシュAPI
  - 認証エラーハンドリング

#### T1.5.2: 認証API実装
- [ ] 🔴 **ログインAPI実装** `担当: BE1` `期限: 2025-02-25`
  - POST /api/auth/login
  - Cognito認証連携
  - JWTトークン発行
  - ユニットテスト作成

- [ ] 🔴 **ログアウトAPI実装** `担当: BE1` `期限: 2025-02-25`
  - POST /api/auth/logout
  - トークン無効化
  - セッション削除

- [ ] 🟡 **ユーザー情報取得API** `担当: BE1` `期限: 2025-02-26`
  - GET /api/auth/me
  - ユーザー情報返却
  - 権限情報含む

### Week 6: 検索UI実装

#### T1.6.1: フロントエンド認証
- [ ] 🔴 **ログインページ実装** `担当: FE1` `期限: 2025-03-01`
  - ログインフォーム
  - バリデーション
  - エラー表示
  - Cognitoクライアント連携

- [ ] 🔴 **認証コンテキスト実装** `担当: FE1` `期限: 2025-03-02`
  - AuthContext作成
  - useAuth カスタムフック
  - トークン管理
  - 自動リフレッシュ

- [ ] 🟡 **ルート保護実装** `担当: FE1` `期限: 2025-03-03`
  - PrivateRoute コンポーネント
  - 認証チェック
  - リダイレクト処理

#### T1.6.2: 検索UI
- [ ] 🔴 **検索バーコンポーネント** `担当: FE2` `期限: 2025-03-04`
  - SearchBar コンポーネント
  - 入力フォーム
  - 検索ボタン
  - Tailwind CSS スタイリング

- [ ] 🟡 **検索結果一覧コンポーネント** `担当: FE2` `期限: 2025-03-05`
  - SearchResults コンポーネント
  - ファイルカード表示
  - グリッド/リスト切り替え
  - ローディング状態

- [ ] 🟡 **ページネーション実装** `担当: FE2` `期限: 2025-03-06`
  - Pagination コンポーネント
  - ページ切り替え
  - 件数表示

### Week 7: 検索API実装

#### T1.7.1: ファイル名検索
- [ ] 🔴 **検索API実装** `担当: BE2` `期限: 2025-03-08`
  - GET /api/search
  - クエリパラメータ処理
  - OpenSearch連携
  - ページネーション

- [ ] 🔴 **ファイルメタデータ取得** `担当: BE2` `期限: 2025-03-09`
  - GET /api/files/:id
  - DynamoDB連携
  - メタデータ返却

- [ ] 🟡 **検索フィルタ実装** `担当: BE2` `期限: 2025-03-10`
  - ファイルタイプフィルタ
  - 日付フィルタ
  - サイズフィルタ
  - OpenSearchクエリ生成

#### T1.7.2: ファイル一覧機能
- [ ] 🟡 **ファイル一覧API** `担当: BE2` `期限: 2025-03-11`
  - GET /api/files
  - フォルダ階層取得
  - ソート機能

- [ ] 🟢 **ファイルダウンロードAPI** `担当: BE2` `期限: 2025-03-12`
  - GET /api/files/:id/download
  - 署名付きURL生成
  - NAS連携

### Week 8: フロントエンド統合

#### T1.8.1: 検索機能統合
- [ ] 🔴 **検索ページ実装** `担当: FE1, FE2` `期限: 2025-03-15`
  - 検索フォーム統合
  - API連携
  - 結果表示
  - エラーハンドリング

- [ ] 🟡 **状態管理実装** `担当: FE1` `期限: 2025-03-16`
  - Zustand ストア作成
  - 検索状態管理
  - キャッシング

- [ ] 🟡 **ローディング・エラー表示** `担当: FE2` `期限: 2025-03-17`
  - Loading コンポーネント
  - Error コンポーネント
  - 空状態表示

---

## Month 3: UI改善とテスト（Week 9-12）

### Week 9: デザインシステム

#### T1.9.1: UIコンポーネント整備
- [ ] 🔴 **デザインシステム構築** `担当: FE2` `期限: 2025-03-22`
  - カラーパレット定義
  - タイポグラフィ設定
  - スペーシング規則
  - コンポーネントライブラリ

- [ ] 🔴 **基本UIコンポーネント** `担当: FE2` `期限: 2025-03-24`
  - Button コンポーネント
  - Input コンポーネント
  - Card コンポーネント
  - Modal コンポーネント
  - Dropdown コンポーネント

- [ ] 🟡 **レスポンシブ対応** `担当: FE1, FE2` `期限: 2025-03-26`
  - モバイル表示最適化
  - タブレット表示最適化
  - ブレークポイント設定

- [ ] 🟢 **アクセシビリティ対応** `担当: FE2` `期限: 2025-03-27`
  - ARIA属性追加
  - キーボードナビゲーション
  - スクリーンリーダー対応

### Week 10: テスト実装

#### T1.10.1: ユニットテスト
- [ ] 🔴 **フロントエンドユニットテスト** `担当: FE1, QA` `期限: 2025-03-31`
  - コンポーネントテスト
  - フックテスト
  - ユーティリティテスト
  - 目標: 80%カバレッジ

- [ ] 🔴 **バックエンドユニットテスト** `担当: BE1, BE2, QA` `期限: 2025-03-31`
  - APIエンドポイントテスト
  - サービスロジックテスト
  - ユーティリティテスト
  - 目標: 80%カバレッジ

#### T1.10.2: 統合テスト
- [ ] 🔴 **API統合テスト** `担当: QA, BE1` `期限: 2025-04-03`
  - 認証フローテスト
  - 検索フローテスト
  - エラーケーステスト

- [ ] 🟡 **E2Eテスト** `担当: QA` `期限: 2025-04-05`
  - Playwright セットアップ
  - ログインフローテスト
  - 検索フローテスト
  - 主要シナリオカバー

### Week 11: パフォーマンス最適化

#### T1.11.1: フロントエンド最適化
- [ ] 🟡 **バンドル最適化** `担当: FE1` `期限: 2025-04-08`
  - Code Splitting
  - Tree Shaking
  - 動的インポート
  - Bundle Analyzer実行

- [ ] 🟡 **画像最適化** `担当: FE2` `期限: 2025-04-09`
  - Next.js Image最適化
  - 遅延ローディング
  - WebP対応

- [ ] 🟢 **キャッシング戦略** `担当: FE1` `期限: 2025-04-10`
  - SWR設定
  - ブラウザキャッシュ
  - Service Worker（検討）

#### T1.11.2: バックエンド最適化
- [ ] 🟡 **データベースクエリ最適化** `担当: BE1` `期限: 2025-04-11`
  - インデックス追加
  - N+1問題解消
  - クエリプランニング

- [ ] 🟡 **API レスポンス最適化** `担当: BE2` `期限: 2025-04-12`
  - レスポンス圧縮
  - 不要なデータ削除
  - ページネーション最適化

### Week 12: ベータ版リリース

#### T1.12.1: リリース準備
- [ ] 🔴 **ステージング環境デプロイ** `担当: DevOps` `期限: 2025-04-15`
  - ECS/Fargate設定
  - デプロイパイプライン
  - ヘルスチェック設定

- [ ] 🔴 **ドキュメント最終確認** `担当: ALL` `期限: 2025-04-17`
  - README更新
  - API仕様書更新
  - ユーザーマニュアル作成

- [ ] 🔴 **ベータ版リリース** `担当: PM, DevOps` `期限: 2025-04-30`
  - デプロイ実行
  - 動作確認
  - ベータユーザー招待
  - フィードバック収集

#### T1.12.2: レビューとレトロスペクティブ
- [ ] 🟡 **Phase 1振り返り** `担当: ALL` `期限: 2025-04-30`
  - KPI確認
  - 問題点洗い出し
  - Phase 2への改善点

---

## 📊 Phase 1 KPI

| 指標 | 目標 | 現在 | ステータス |
|------|------|------|----------|
| ユニットテストカバレッジ | 80%以上 | 0% | 🔴 |
| 統合テストケース数 | 50件以上 | 0件 | 🔴 |
| E2Eテストシナリオ | 10件以上 | 0件 | 🔴 |
| API レスポンスタイム | <500ms | - | ⚪ |
| ベータユーザー数 | 10名 | 0名 | ⚪ |

---

## 🎯 Phase 1 完了条件

- [ ] すべてのコア機能が動作している
- [ ] ユニットテストカバレッジ80%達成
- [ ] 主要シナリオのE2Eテスト完了
- [ ] ステージング環境でのベータ版稼働
- [ ] ベータユーザーからのフィードバック収集
- [ ] Phase 2への準備完了

---

**最終更新**: 2025-01-15
**次回レビュー**: 2025-02-01